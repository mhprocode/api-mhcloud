<%- include('../../partials/header') %>

<nav class="bg-white shadow-sm sticky top-0 z-50">
  <div class="container mx-auto px-6 py-4 flex justify-between items-center">
    <div class="font-bold text-2xl text-indigo-600">API MhCloud</div>
    <div class="space-x-4">
      <a href="/" class="text-gray-600 hover:text-indigo-600 font-medium">Home</a>
      <a href="/docs" class="text-gray-600 hover:text-indigo-600 font-medium">Dokumentasi</a>
      </div>
  </div>
</nav>

<main class="container mx-auto mt-12 mb-12 px-6 max-w-7xl">
  <div class="md:flex md:space-x-8">

    <aside class="md:w-1/4 mb-8 md:mb-0">
      <div class="bg-white p-4 rounded-lg shadow-lg sticky top-24">
        
        <div class="px-3 py-2 border-b mb-2">
            <h3 class="text-sm font-semibold uppercase text-gray-500 mb-1">Info Umum</h3>
             <a href="#limits" class="block px-3 py-2 rounded-md text-gray-700 font-medium text-sm hover:bg-gray-100">
                Role & Limits
            </a>
        </div>
        
        <h3 class="px-3 py-2 text-sm font-semibold uppercase text-gray-500 mb-1">Endpoints API</h3>
        <nav class="flex flex-col space-y-1">
            
          <% if (docMenu && docMenu.length > 0) { %>
            <% docMenu.forEach(menuItem => { %>
              
              <a href="/docs?doc=<%= menuItem.slug %>" 
                 class="px-3 py-2 rounded-md text-gray-700 font-medium text-sm hover:bg-indigo-50 hover:text-indigo-600
                 <%= (menuItem.slug === activeSlug) ? 'bg-indigo-100 text-indigo-700' : '' %>">
                 <%= menuItem.nama %> </a>

            <% }) %>
          <% } else { %>
            <p class="px-3 text-sm text-gray-500">Tidak ada endpoint.</p>
          <% } %>
        </nav>
      </div>
    </aside>

    <section class="md:w-3/4">
      <div class="bg-white shadow-xl rounded-lg p-8 md:p-12">
        
        <article id="limits" class="prose prose-lg max-w-none prose-indigo pb-8 border-b">
           <p>Semua endpoint API memerlukan API Key yang valid: <code>?apikey=YOUR_KEY</code>.</p>
           <h2>Role & Limits</h2>
           <p>Kami menyediakan dua tingkatan layanan:</p>
           <ul>
               <li><strong>FREE:</strong> 100 request per bulan.</li>
               <li><strong>PREMIUM:</strong> 50.000 request per bulan.</li>
           </ul>
           <p>Jika Anda melebihi limit, API akan merespon dengan status <code>429 Too Many Requests</code>.</p>
        </article>

        <hr class="my-8">

        <article class="prose prose-lg max-w-none prose-indigo">
            <%- activeDocHtml %>
        </article>
        
      </div>
    </section>

  </div>
</main>

<%- include('../../partials/footer') %>